<!DOCTYPE html>
<html lang="en">    
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TypeCodeFast</title>
    <link rel="icon" type="image/png" href="logo.png">
    <!-- Prettier remains -->
    <script src="https://unpkg.com/prettier@2.8.8/standalone.js"></script>
    <script src="https://unpkg.com/prettier@2.8.8/parser-babel.js"></script>

    <link rel="stylesheet" href="styles.css">
    </head>
    <body>

    <!-- Single Page Application Structure -->

    <!-- Home View -->
    <div id="home-view" class="view">
        <h1>TypeCodeFast</h1>
        <div style="display: flex; justify-content: center; gap: 10px;">
            <button id="random-button-home" style="background: url('random.png') no-repeat center; background-size: contain; width: 600px; height: 83px; cursor: pointer; text-indent: -9999px; overflow: hidden; border: none; outline: none; padding: 0; margin: 0;"></button>
            <button id="upload-button-home" style="background: url('upload.png') no-repeat center; background-size: contain; width: 600px; height: 80px; cursor: pointer; text-indent: -9999px; overflow: hidden; border: none; outline: none; padding: 0; margin: 0;"></button>
            <!-- <p style="margin-top: 20px; color: #666;">(Upload a .js file to start)</p> -->
        </div>
        <input type="file" id="file-input-home" accept=".js, .py, text/javascript, text/python" style="display: none;">

        <img src="snap.png" alt="Snap" style="width: 100%; height: auto; user-drag: none; -webkit-user-drag: none;" ondragstart="return false;">
         <!-- Add language selection later if needed -->
    </div>

    <!-- Typing View -->
    <div id="typing-view" class="view">
        <!-- Moved existing content here -->
        <div style="margin-bottom: 20px; display: flex; align-items: center; gap: 10px; width: var(--container-width); max-width: var(--container-max-width);">
            <!-- Buttons specific to typing view can go here if needed, or remove this bar -->
             <!-- go back to home -->
             <button id="back-button" title="Go back to home" style="background: url('upload.png') no-repeat center; background-size: contain; width: 300px; height: 60px; cursor: pointer; text-indent: -9999px; overflow: hidden; border: none; outline: none; padding: 0; margin: 0;"></button>
            <button id="diff-button" title="Highlight first difference" style="background: url('check_diff.png') no-repeat center; background-size: contain; width: 300px; height: 60px; cursor: pointer; text-indent: -9999px; overflow: hidden; border: none; outline: none; padding: 0; margin: 0;"></button>
            <span id="file-info" style="margin-left: 10px; font-style: italic; color: #555; flex-grow: 1; text-align: right;"></span>
        </div>

        <h2>Code Snippet to Type:</h2>
        <div id="code-snippet-container" class="code-container">
            <div id="snippet-output" class="shiki-output-holder">
                <pre class="shiki" style="background-color: #282c34;"><code></code></pre>
            </div>
        </div>
        <h2>Your Typing Area:</h2>
        <div id="highlighted-input-container" class="code-container">
            <div id="input-output" class="shiki-output-holder">
                <pre class="shiki" style="background-color: #282c34;"><code></code></pre>
            </div>
            <textarea id="typing-area" spellcheck="false" autocapitalize="none" autocomplete="off" autocorrect="off" disabled></textarea>
        </div>

        <div id="error-message"></div>
        <!-- End of moved content -->
    </div>

    <!-- Result View -->
    <div id="result-view" class="view">
        <h2>Results</h2>
        <div id="result-stats">
            <p>Time: <span id="result-time">--</span> seconds</p>
            <p>WPM: <span id="result-wpm">--</span></p>
        </div>
        <div id="result-buttons">
            <button id="redo-button">Redo Same Snippet</button>
            <button id="new-snippet-button">Upload New Snippet</button>
        </div>
    </div>

    <script src="index.js" type="module"></script>

    </body>
</html>